%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 0 - Boas práticasclear all;                        % apaga todas as variáveisclose all;                        % fechar as figurasclc;                              % limpa o ambiente de simulaçãopkg load symbolic                 % somente para o Octavepkg load signal%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 1 - Criar um sinal modulado em fase%%% Mensagem pulsada - m(t) - onda quadradatempo = linspace(0,2,10000);       %%% dois períodosfm    = 1;                        %%% 1 períodowm    = 2*pi*fm;Tm    = 1/fm;DC    = 50;Am    = 2;mt    = Am*square(wm*tempo,DC); % mt    = Am*sin(wm*tempo);%%% Cálculo da frequênciaTs    = 2/10000;                   %%% amostragemfs    = 1/Ts;Np    = 10000;freq  = linspace(-fs/2,fs/2,Np);%%% Visualizando a mensagemfigure(1)plot(tempo,mt);%%% modifica parâmetros do gráficoset(findall(gcf,'Type','line'),'LineWidth',3);set(gca,'FontSize',14,'LineWidth',2);  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 2 - Criar um sinal modulado em frequência%%% Constante de miodulação - KpKw = 10 ;   %%%% a cada volt da mensagem ele varia 1 rd/s%%% Sinal modulado - fi_PMA      = 1;fc     = 60;Tc     = 1/fc;wc     = 2*pi*fc;%%% criei uma frequência proporcional a mensagemw      =  wc + Kw*mt;%%% integrando a mensagemintegral_mt = cumsum(mt);integral_mt = integral_mt/(2*max(integral_mt));%%% sinal moduladoFMt    = A*cos(wc*tempo + Kw*integral_mt); %%% Visualizando a mensagemfigure(2)plot(tempo,mt, 'b-.'); hold;  plot(tempo,FMt, 'k-') %%% modifica parâmetros do gráficoset(findall(gcf,'Type','line'),'LineWidth',6);set(gca,'FontSize',14,'LineWidth',2);%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 3 - Criar um sinal modulado em amplitude%%% sinal moduladoAMt    = (A + mt).*cos(wc*tempo); %%% Visualizando a mensagemfigure(3)plot(tempo,mt, 'b-.'); hold;  plot(tempo,AMt, 'k-') %%% modifica parâmetros do gráficoset(findall(gcf,'Type','line'),'LineWidth',6);set(gca,'FontSize',14,'LineWidth',2);%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 4 - Análise espectral%%% Determinando a transformada de FourierF_AMt =    fft(AMt);F_FMt =    fft(FMt);F_mt  =    fft(mt);%%% Visualizando os resultadossubplot(3,1,1);plot(freq,20*log10(abs(fftshift(F_mt))));grid;axis ([0 100])%%% modifica parâmetros do gráficoset(findall(gcf,'Type','line'),'LineWidth',6);set(gca,'FontSize',14,'LineWidth',2);subplot(3,1,2);plot(freq,20*log10(abs(fftshift(F_AMt))));grid;axis ([0 100])%%% modifica parâmetros do gráficoset(findall(gcf,'Type','line'),'LineWidth',6);set(gca,'FontSize',14,'LineWidth',2);subplot(3,1,3);plot(freq,20*log10(abs(fftshift(F_FMt))));grid;axis ([0 100])%%% modifica parâmetros do gráficoset(findall(gcf,'Type','line'),'LineWidth',6);set(gca,'FontSize',14,'LineWidth',2);